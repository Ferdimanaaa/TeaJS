#!/usr/bin/env node

// define PI
#define PI 3.14
// define DEG
#define DEG(rad) \
            rad*180/PI
// define RAD
#define RAD(deg) {
  #ifdef PI
  deg*PI/180
  #else
  deg*Math.PI/180
  #endif
}
// define VER
#define VER
{
  #script
    write '"'+process.version+'"'
  #end
}
// assert
#define assert()
{
  if(..)
}


// define Loops statment
#stam LoopStam <Expression:BlockNode\n for ForCondition>
{
  @[1] (@[2]) @[0]
}
console.log(1) for a => arr;

// test argv
#argv -os 'android'

// test script
#script
if (Tea.argv['-os'] == 'android') {
  write "console.log('This is Android os')";
}else:
  write "console.log('This is iOS')";
#end

//test include
#include "./try.tea"

console.log('\PI ==', PI)
console.log('\PI ==', #PI)
console.log('DEG((4*100)) ==', DEG((4*100)));
console.log('ABC 1, 2, 3 == ', DEG 1, 2, 3);
console.log(VER);
// test undef
#undef DEG
console.log('DEG(5) ==', DEG(5))

// test control
#ifdef PI
  #ifdef --b
  console.log(1);
  #else
  console.log(2);
  #end
#else
  console.log(3);        
#end

// test line
console.log('the line number is '+#line)

console.log('end');